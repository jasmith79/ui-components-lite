<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, minimum-scale=1.0">
<meta charset="utf-8"/>
<style>
  :root {
    --purple: purple;
    font-family: sans-serif;
  }

  ui-list {
    width: 200px;
    border: 1px solid #000;
  }
</style>
</head>
<body>
  <script type="module">
    const styles = `
      :host {
        background-color: var(--purple);
        color: white;
        display: block;
        width: 200px;
        height: 50px;
      }

      :host(.foo-class) ::slotted(span) {
        background-color: red;
        color: white;
      }

      :host(.foo-class) span {
        background-color: aliceblue;
        color: green;
      }

      span {
        background-color: blue;
        color: orange;
      }
    `;
    class MyElem extends HTMLElement {
      constructor () {
        super();
        this.stylesheet = document.createElement('style');
        this.attachShadow({ mode: 'open' });
        this.slotElem = document.createElement('slot');
        this.slotElem.name = "foo-slot";
        this.shadowRoot.appendChild(this.slotElem);
        this.bazSpan = document.createElement('span');
        this.bazSpan.textContent = 'baz';
        this.shadowRoot.appendChild(this.bazSpan);
        this.shadowRoot.appendChild(this.stylesheet);
        this.stylesheet.innerHTML += styles;
      }
    }
    customElements.define('my-elem', MyElem);
    // customElements.whenDefined('my-elem').then(_ => {
    //   setTimeout(() => {
    //     document.querySelector('style').innerHTML += ':root { --purple: pink; }';
    //   }, 2000);
    // });
  </script>
  <script type="module">
    import "../../src/elements/text.js";
    import "../../src/elements/button.js";
    import "../../src/elements/checkbox.js";
    import "../../src/elements/temp.js";
    import "../../src/elements/list.js";
  </script>
  <my-elem>Foo <span slot="foo-slot">Bar</span></my-elem>
  <ui-text>I'm a ui text!</ui-text>
  <ui-button floating-y>Save</ui-button>
  <ui-checkbox></ui-checkbox>
  <ui-list>
    <ui-item>Foo</ui-item>
    <ui-item>Bar</ui-item>
  </ui-list>
  <ui-list multiple>
    <ui-item>Foo</ui-item>
    <ui-item>Bar</ui-item>
  </ui-list>
  <ui-drop-down>
    <ui-item>Foo</ui-item>
    <ui-item>Bar</ui-item>
  </ui-drop-down>
  <ui-drop-down multiple>
    <ui-item>Foo</ui-item>
    <ui-item>Bar</ui-item>
  </ui-drop-down>
  <script>
  document.querySelector('ui-button').addEventListener('click', e => {
    document.querySelector('style').innerHTML += ':root { --purple: pink; }';
  });
  </script>
</body>
</html>
