import{document}from'./dom.min.js';import extractType from'../../../extracttype/extracttype.js';import{toSnakeCase,random}from'../../../jsstring/src/jsstring.js';const toCSSVar=(a)=>`--ui-theme-${toSnakeCase(a,'-')}`,defaultThemeObj={primaryColor:'#00bcd4',primaryDarkColor:'#008ba3',primaryLightColor:'#62efff',darkTextColor:'#333',secondaryColor:'#ab47bc',secondaryDarkColor:'#79e08b',secondaryLightColor:'#df78ef',lightTextColor:'#fff',warningColor:'#ec407a',rippleColor:'#fff',accentColor:'orange'},themeRegistry={},appliedThemes=[];let currentTheme=null;const applyTheme=(a,b)=>{const c=extractType(a);if('String'===c){let b=themeRegistry[a];if(b)return currentTheme=b,document.head.appendChild(b),appliedThemes.push(b),b;throw new Error(`Unrecognized theme ${a}.`)}const d=document.createElement('style');return d.innerHTML=':root { '+Object.entries(a).reduce((a,[b,c])=>b in defaultThemeObj?`${a} ${toCSSVar(b)}:${c};`:a,'')+' }',b&&(themeRegistry[b]=d),document.head.appendChild(d),appliedThemes.push(d),currentTheme=d,d},defaultTheme=applyTheme(defaultThemeObj,'default'),revertTheme=()=>{let a=appliedThemes.pop();return a&&a!==defaultTheme&&document.head.removeChild(a),appliedThemes[appliedThemes.length-1]||defaultTheme},generateCSSClassName=()=>random.alpha(1)+random.alphanumeric(5);export{applyTheme,revertTheme,generateCSSClassName};