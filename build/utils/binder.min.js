export default((a)=>class extends a{constructor(){super(),this._oneWayBoundAttrs={},this._twoWayBoundAttrs={},this._internalMutationFlag=!1}bindAttribute(a,b,c=!1){let d=null,e=this;for(;e=e.parentNode||e.host;)if(e.getAttribute&&null!=e.getAttribute(b)||e.constructor&&e.constructor.observedAttributes&&e.constructor.observedAttributes.includes(b)){d=e;break}if(!d)throw new Error(`Attempted to bind attribute ${a} to ${b},`+'but no matching parent found.');d.onReady(()=>d.isUIComponent?void(this.attr(a,d.attr(b)),this.watchAttribute(d,b,(b)=>{this.attr(a)!==b&&(this._internalMutationFlag=!0,this.attr(a,b))}),c?(this.watchAttribute(this,a,(a)=>{d.attr(b)!==a&&d.attr(b,a)}),this._twoWayBoundAttrs[a]=b):this._oneWayBoundAttrs[a]=b):void console.warn(`Attempted to data-bind ${b} to non-ui-component parent.`))}});