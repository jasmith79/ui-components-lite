import{document,defineUIComponent,global}from'../utils/dom.min.js';import extractType from'../../../extracttype/extracttype.js';const rippleEvents=['click','tap','dblclick','enter-key'],handlerRegistry=new WeakMap,registerHandler=(a)=>{const b=handlerRegistry.get(a);let c=b||((b)=>{global.setTimeout(a,500,b)});return handlerRegistry.set(a,c),c},template=document.createElement('template');template.innerHTML=`
  <style>
    :host {
      overflow: hidden;
      position: relative;
      cursor: pointer;
      transform: translate3d(0, 0, 0);
    }

    :host:after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0;
      transform: scale(10, 10);
      transition: transform .5s, opacity 1s;
      pointer-events: none;
      background-repeat: no-repeat;
      background-image: radial-gradient(circle, var(--ui-theme-ripple-color), 10%, transparent 10%);
      background-position: 50%;
    }

    :host(:active):after {
      opacity: .7;
      transform: scale(0, 0);
      transition: 0s;
      background-color: orange;
    }
  </style>
`;export default((a)=>defineUIComponent({name:'ui-ripples',template,registerElement:!1,definition:class extends a{on(a,b){const c=a.split(/\s+/g);c.forEach((a)=>{if(rippleEvents.includes(a)){const c=registerHandler(b);super.on(a,c)}else super.on(a,b)})}remove(...a){const b=a.reduce((a,b)=>{if('Function'===extractType(b)){let c=registerHandler(b);a.push(c||b)}else a.push(b);return a},[]);super.remove(...b)}}}));